* 单词

messageQueue : 消息队列  <br>
  message /'mɛsɪdʒ/ : 消息  <br>
  queue /kju/ : 队列
  
  Partition /pɑr'tɪʃən/ : 分区
  
  topic /'tɒpɪk/ : 主题（等于theme）；题目；一般规则；总论
  
  broker /'brəʊkə/ : 经纪人，掮客,也可以认为是服务器
  
  Producer /prə'dʊsɚ/ : 生产者
  
  Consumer /kən'sumɚ/ : 消费者
  
  Cluster  /'klʌstɚ/ : 群；簇；丛；串
  
  segment /'sɛɡmənt/  : 段,线条
  
  offset : 偏移量
  
  
  

### 1 为什么使用消息队列? 消息队列的作用是什么?





### 2 Kafka的Topic和分区内部是如何存储的,有什么特点?

Topic是把数据分别存储到不同的分区中,也就是存放到不同的服务器中.

分区内部的数据是存放在多个文件中的,每个分区都有一定数量的.inde文件和.log文件,其中.index和.log文件,这两个文件组成一个`segment` 段,
这个段就存储着分区内的一部分数据,默认是1G.


### 3 与传统的消息系统相比,Kafka的消费模型有什么优点?

  kafka的消费模型是分布式的
  
  
### 4 Kafka如何实现分布式的数据存储与数据读取?

在Kafka文件存储中，同一个 topic下有多个不同partition，每个 partition 为一个目录,拥有自己的分区id,topic产生的数据分成多分存储在分区中,
每个分区都对应一台服务器,这样就把数据存放在了不同的服务器上,实现了分布式的数据存储.




### 5 Kafka为什么比RocketMQ支持的单机Partition要少?

### 6 为什么需要分区?也就是说主题只有一个分区,难道不行吗?


  如果只有一个分区,那么我们的topic产生的所有数据都会存放到一个broker中,一台服务器的内存是有限的,当数据足够大时,会造成服务器的内存不足,
就会影响到我们的服务,所以我们需要分区,把数据分成多分存储在不同的broker中,以减轻服务器的存储压力.

  同时这也会造成一个问题: 如果将数据分区存储,如果其中一台服务器挂掉,则会造成这部分数据不可用.<br>
解决方法: 对数据进行备份,也就是副本机制,将同一份数据备份,放到不同的服务器上.


### 7 日志为什么需要分段?

Kafka中的数据是以日志的形式存储的,Kafka作为消息中间件,只负责消息的临时存储,并不是永久存储,需要删除过期的数据.<br>
如果把所有的数据都存放在同一个文件,则删除过期的数据会很麻烦. <br>
因为文件有日期属性,删除过期的数据只需要根据文件的日期属性删除就行.

补充一下删除数据的两种方式:

        1 按照日期删除,如果只存储7天的日志,超过7天的则删除
        2 按照行数删除/按照文件的大小
    

### 8 Kafka是依靠什么机制保持高可靠的,高可用?

### 9 消息队列如何保证消息幂等?

### 10 让你自己设计个消息队列,你会怎么设计,会考虑那些方面?





